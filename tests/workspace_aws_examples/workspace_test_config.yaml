examples:
  - name: encryption
    var_groups: [encryption]
    plan_regressions:
      - address: module.atlas_aws.module.cloud_provider_access[0].mongodbatlas_cloud_provider_access_setup.this
      - address: module.atlas_aws.module.cloud_provider_access[0].mongodbatlas_cloud_provider_access_authorization.this
      - address: module.atlas_aws.module.cloud_provider_access[0].aws_iam_role.this
      - address: module.atlas_aws.module.encryption[0].aws_kms_key.atlas[0]
      - address: module.atlas_aws.module.encryption[0].aws_kms_alias.atlas[0]
      - address: module.atlas_aws.module.encryption[0].aws_iam_role_policy.kms_access
      - address: module.atlas_aws.module.encryption[0].mongodbatlas_encryption_at_rest.this

  - name: encryption_private_endpoint
    var_groups: [encryption_private_endpoint]
    plan_regressions:
      - address: aws_kms_key.atlas
      - address: module.atlas_aws.module.cloud_provider_access[0].mongodbatlas_cloud_provider_access_setup.this
      - address: module.atlas_aws.module.cloud_provider_access[0].mongodbatlas_cloud_provider_access_authorization.this
      - address: module.atlas_aws.module.cloud_provider_access[0].aws_iam_role.this
      - address: module.atlas_aws.module.encryption[0].aws_iam_role_policy.kms_access
      - address: module.atlas_aws.module.encryption[0].mongodbatlas_encryption_at_rest.this
      - address: module.atlas_aws.module.encryption_private_endpoint["us-east-1"].mongodbatlas_encryption_at_rest_private_endpoint.this

  - name: backup_export
    var_groups: [backup_export]
    plan_regressions:
      - address: module.atlas_aws.module.cloud_provider_access[0].mongodbatlas_cloud_provider_access_setup.this
      - address: module.atlas_aws.module.cloud_provider_access[0].mongodbatlas_cloud_provider_access_authorization.this
      - address: module.atlas_aws.module.cloud_provider_access[0].aws_iam_role.this
      - address: module.atlas_aws.module.backup_export[0].aws_s3_bucket.atlas[0]
      - address: module.atlas_aws.module.backup_export[0].aws_s3_bucket_versioning.atlas[0]
      - address: module.atlas_aws.module.backup_export[0].aws_s3_bucket_public_access_block.atlas[0]
      - address: module.atlas_aws.module.backup_export[0].aws_iam_role_policy.s3_access
      - address: module.atlas_aws.module.backup_export[0].time_sleep.iam_propagation
      - address: module.atlas_aws.module.backup_export[0].mongodbatlas_cloud_backup_snapshot_export_bucket.this

  - name: privatelink
    var_groups: [privatelink]
    plan_regressions:
      - address: module.atlas_aws.mongodbatlas_privatelink_endpoint.this["us-east-1"]
      - address: module.atlas_aws.module.privatelink["us-east-1"].aws_security_group.this[0]
      - address: module.atlas_aws.module.privatelink["us-east-1"].aws_security_group_rule.ingress_cidr[0]
      - address: module.atlas_aws.module.privatelink["us-east-1"].aws_vpc_endpoint.this[0]
      - address: module.atlas_aws.module.privatelink["us-east-1"].mongodbatlas_privatelink_endpoint_service.this

  - name: privatelink_byoe
    var_groups: [privatelink_byoe]
    plan_regressions:
      - address: module.atlas_aws.mongodbatlas_privatelink_endpoint.this["ep1"]
      - address: module.atlas_aws.module.privatelink["ep1"].mongodbatlas_privatelink_endpoint_service.this
      - address: aws_vpc_endpoint.custom

  - name: privatelink_multi_region
    var_groups: [privatelink_multi_region]
    plan_regressions:
      - address: module.atlas_aws.mongodbatlas_private_endpoint_regional_mode.this[0]
      - address: module.atlas_aws.mongodbatlas_privatelink_endpoint.this["us-east-1"]
      - address: module.atlas_aws.mongodbatlas_privatelink_endpoint.this["us-west-2"]
      - address: module.atlas_aws.module.privatelink["us-east-1"].aws_security_group.this[0]
      - address: module.atlas_aws.module.privatelink["us-east-1"].aws_security_group_rule.ingress_cidr[0]
      - address: module.atlas_aws.module.privatelink["us-east-1"].aws_vpc_endpoint.this[0]
      - address: module.atlas_aws.module.privatelink["us-east-1"].mongodbatlas_privatelink_endpoint_service.this
      - address: module.atlas_aws.module.privatelink["us-west-2"].aws_security_group.this[0]
      - address: module.atlas_aws.module.privatelink["us-west-2"].aws_security_group_rule.ingress_cidr[0]
      - address: module.atlas_aws.module.privatelink["us-west-2"].aws_vpc_endpoint.this[0]
      - address: module.atlas_aws.module.privatelink["us-west-2"].mongodbatlas_privatelink_endpoint_service.this

var_groups:
  encryption:
    - name: project_id
      expose_in_workspace: false
      module_value: local.project_id_encryption

  encryption_private_endpoint:
    - name: project_id
      expose_in_workspace: false
      module_value: local.project_id_encryption_private_endpoint
    - name: aws_region
      expose_in_workspace: false
      module_value: '"us-east-1"'

  backup_export:
    - name: project_id
      expose_in_workspace: false
      module_value: local.project_id_backup_export
    - name: force_destroy
      expose_in_workspace: false
      module_value: "true"
    - name: bucket_name_prefix
      expose_in_workspace: false
      module_value: '"mongodb-atlas-tf-"'

  privatelink:
    - name: project_id
      expose_in_workspace: false
      module_value: local.project_id_privatelink
    - name: aws_region
      expose_in_workspace: false
      module_value: '"us-east-1"'
    - name: subnet_ids
      expose_in_workspace: false
      module_value: local.subnet_ids_privatelink

  privatelink_byoe:
    - name: project_id
      expose_in_workspace: false
      module_value: local.project_id_privatelink_byoe
    - name: aws_region
      expose_in_workspace: false
      module_value: '"us-east-1"'
    - name: vpc_id
      expose_in_workspace: false
      module_value: local.vpc_id_privatelink_byoe
    - name: subnet_ids
      expose_in_workspace: false
      module_value: local.subnet_ids_privatelink_byoe
    - name: security_group_ids
      expose_in_workspace: false
      module_value: local.security_group_ids_byoe

  privatelink_multi_region:
    - name: project_id
      expose_in_workspace: false
      module_value: local.project_id_privatelink_multi_region
    - name: aws_region
      expose_in_workspace: false
      module_value: '""'
    - name: subnet_ids_us_east_1
      expose_in_workspace: false
      module_value: local.subnet_ids_us_east_1
    - name: subnet_ids_us_west_2
      expose_in_workspace: false
      module_value: local.subnet_ids_us_west_2
